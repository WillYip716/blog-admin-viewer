{"version":3,"sources":["components/post.js","components/home.js","components/navbar.js","components/createpost.js","App.js","index.js"],"names":["Post","props","onChange","e","setState","target","name","value","onSubmit","preventDefault","state","title","article","header","headers","localStorage","getItem","axios","put","match","params","id","content","then","result","data","timestamp","publishtoggle","published","deletebutton","delete","history","push","loading","get","this","res","posts","onClick","type","className","React","Component","Home","map","post","to","_id","key","Navbar","useState","user","setUser","login","setlogin","username","setusername","password","setpassword","loginmode","logout","removeItem","token","setItem","userid","href","CreatePost","App","path","exact","component","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.6e7733bc.chunk.js","sourcesContent":["import React from 'react'\nimport axios from 'axios';\n\n\nclass Post extends React.Component{\n\n    constructor(props){\n        super(props);\n        this.state ={\n            loading: true,\n            title: \"\",\n            article: \"\",\n            timestamp: \"\",\n            published: \"\"\n        };\n    }\n\n    componentDidMount() {\n        axios.get('https://gentle-reaches-06177.herokuapp.com/posts/'+this.props.match.params.id)\n          .then(res => {\n            const posts = res.data;\n            this.setState((state) => ({\n                loading: false,\n                title: posts.title,\n                article: posts.article,\n                timestamp: posts.timestamp,\n                published: posts.published\n            }));  \n          })\n    }\n\n    onChange = (e) => {\n        /*\n            Because we named the inputs to match their\n            corresponding values in state, it's\n            super easy to update the state\n        */\n        this.setState({ [e.target.name]: e.target.value });\n    }\n\n    onSubmit = (e) => {\n        e.preventDefault();\n        // get our form data out of state\n        const { title, article } = this.state;\n        const header = {\n            headers: {\n                'Content-Type': 'application/json',\n                'Authorization': 'bearer '+localStorage.getItem('blogusertoken')\n            }\n        };\n\n        axios.put('https://gentle-reaches-06177.herokuapp.com/posts/'+this.props.match.params.id, { title, content:article},header)\n            .then((result) => {\n                if(result.data){\n                    this.setState((state) => ({\n                        timestamp: result.data.timestamp,\n                    }));\n                   \n                }\n        });\n    }\n\n    publishtoggle = (e) => {\n        e.preventDefault();\n        // get our form data out of state\n        const header = {\n            headers: {\n                'Content-Type': 'application/json',\n                'Authorization': 'bearer '+localStorage.getItem('blogusertoken')\n            }\n        };\n\n        axios.put('https://gentle-reaches-06177.herokuapp.com/posts/'+this.props.match.params.id+'/publish', {},header)\n            .then((result) => {\n                if(result.data){\n                    this.setState((state) => ({\n                        published: result.data.published,\n                    }));             \n                }\n        });\n    }\n\n    deletebutton = (e) => {\n        e.preventDefault();\n        // get our form data out of state\n        const header = {\n            headers: {\n                'Content-Type': 'application/json',\n                'Authorization': 'bearer '+localStorage.getItem('blogusertoken')\n            }\n        };\n\n        axios.delete('https://gentle-reaches-06177.herokuapp.com/posts/'+this.props.match.params.id+'/delete',header)\n            .then((result) => {\n                this.props.history.push('/');\n        });\n    }\n\n    render() {\n        const { title, article } = this.state;\n        return (\n            (this.state.loading?(\n                <p>Page is loading</p>\n            ):(\n                <section>\n                    <button onClick={this.publishtoggle}>{this.state.published?'Unpublish':'Publish'}</button>\n                    <button onClick={this.deletebutton}>DELETE</button>\n                    <p>Updated {this.state.timestamp}</p>\n                    <form onSubmit={this.onSubmit}>\n                        <label>Title:</label>\n                        <input\n                            type=\"text\"\n                            name=\"title\"\n                            value={title}\n                            onChange={this.onChange}\n                        />\n                        <label>Article:</label>\n                        <textarea \n                            className=\"article_input\"\n                            type=\"text\"\n                            name=\"article\"\n                            value={article}\n                            onChange={this.onChange}\n                        />                 \n                        <button type=\"submit\">Submit</button>\n                    </form>\n                </section>\n            )\n                   \n        ));\n    }\n    \n}\nexport default Post;","import React from 'react'\nimport axios from 'axios';\nimport {Link} from 'react-router-dom'\n\nclass Home extends React.Component{\n\n    constructor(props){\n        super(props);\n        this.state ={\n            loading: true,\n            posts: []\n        };\n    }\n\n    componentDidMount() {\n        axios.get('https://gentle-reaches-06177.herokuapp.com/posts')\n          .then(res => {\n            const posts = res.data;\n            this.setState((state) => ({\n                loading: false,\n                posts: posts\n            }));  \n          })\n    }\n\n    render(){\n        return(\n            <div>\n            {this.state.loading        \n                ? <h1>Hello i am loading</h1>\n                : <div>\n                    {this.state.posts.map((post) => (\n                        <Link to={`/post/${post._id}`} key={post._id}>\n                            <h1>{post.title}</h1>\n                            <p>{post.timestamp}</p>\n                        </Link>\n                    ))}\n                </div>     \n            }\n            \n                \n            </div>\n        )\n    }\n    \n}\n\nexport default Home;","import React, { useState } from 'react'\nimport {Link} from 'react-router-dom'\nimport axios from 'axios';\n\nfunction Navbar(){\n    const [user, setUser] = useState(\"\"+localStorage.getItem('blogusertoken'));\n    const [login, setlogin] = useState(\"false\");\n    const [username, setusername] = useState(\"\");\n    const [password, setpassword] = useState(\"\");\n\n\n\n    const loginmode = (e) => {\n        e.preventDefault();\n        setlogin(\"true\");\n    }\n\n    const logout = (e) => {\n        e.preventDefault();\n        setlogin(\"false\");\n        setUser(\"\");\n        localStorage.removeItem(\"bloguserid\");\n        localStorage.removeItem(\"blogusertoken\");\n    }\n\n    const onSubmit=(e)=>{\n        e.preventDefault();\n\n        axios.post('https://gentle-reaches-06177.herokuapp.com/login', { username, password})\n            .then((result) => {\n                if(result.data.token){\n                    localStorage.setItem('blogusertoken', result.data.token);\n                    localStorage.setItem('bloguserid', result.data.userid);\n                    setUser(result.data.token);\n                    setlogin(\"false\");\n                    setusername(\"\");\n                    setpassword(\"\");\n                }\n        });\n    }\n\n    function rendercontent(){\n         if(user&&user!==\"null\"){\n             return <div><Link to='/createpost'>Create Post</Link><br></br>\n             <a href=\"/\" onClick={logout}>Log Out</a></div>;\n         }\n         else if(login!==\"true\"){\n             return <li><a href=\"/\" onClick={loginmode}>Log in</a></li>;\n         }\n         else{\n             return <section>\n             <form onSubmit={onSubmit}>\n                 <label>Username:</label>\n                 <input\n                     type=\"text\"\n                     name=\"username\"\n                     value={username}\n                     onChange={(e) => setusername(e.target.value)}\n                 />\n                 <label>Password:</label>\n                 <input\n                     type=\"password\"\n                     name=\"password\"\n                     value={password}\n                     onChange={(e) => setpassword(e.target.value)}\n                 />                 \n                 <button type=\"submit\">Submit</button>\n             </form>\n         </section> ;\n         }\n    };\n\n    return(\n        <ul>\n                <Link to='/'>Home</Link>\n                <div>\n                    {rendercontent()}\n                </div>\n        </ul>\n    )   \n}\n\n\n            \n\nexport default Navbar;","import React from 'react'\nimport axios from 'axios';\n\n\nclass CreatePost extends React.Component{\n\n    constructor(props){\n        super(props);\n        this.state ={\n            title: \"\",\n            article: \"\"\n        };\n    }\n\n    onChange = (e) => {\n        /*\n            Because we named the inputs to match their\n            corresponding values in state, it's\n            super easy to update the state\n        */\n        this.setState({ [e.target.name]: e.target.value });\n    }\n\n    onSubmit = (e) => {\n        e.preventDefault();\n        // get our form data out of state\n        const { title, article } = this.state;\n        const header = {\n            headers: {\n                'Content-Type': 'application/json',\n                'Authorization': 'bearer '+localStorage.getItem('blogusertoken')\n            }\n        };\n\n        axios.post('https://gentle-reaches-06177.herokuapp.com/posts/create', { title, content:article,id:localStorage.getItem('bloguserid')},header)\n            .then((result) => {\n                if(result.data){\n                    this.props.history.push('/post/'+result.data._id);\n                }\n        });\n    }\n\n    render() {\n        const { title, article } = this.state;\n        return (\n            (this.state.loading?(\n                <p>Page is loading</p>\n            ):(\n                <section>\n                    <p>Create a post</p>\n                    <form onSubmit={this.onSubmit}>\n                        <label>Title:</label>\n                        <input\n                            type=\"text\"\n                            name=\"title\"\n                            value={title}\n                            onChange={this.onChange}\n                        />\n                        <label>Article:</label>\n                        <textarea \n                            className=\"article_input\"\n                            type=\"text\"\n                            name=\"article\"\n                            value={article}\n                            onChange={this.onChange}\n                        />                 \n                        <button type=\"submit\">Submit</button>\n                    </form>\n                </section>\n            )\n                   \n        ));\n    }\n    \n}\nexport default CreatePost;","import React from 'react';\nimport {Route} from 'react-router-dom';\nimport Post from './components/post';\nimport Home from './components/home';\nimport Navbar from './components/navbar';\nimport CreatePost from './components/createpost'\n\nfunction App() {\n    return (\n        <div>\n            <Navbar/>\n            <Route path=\"/\" exact component={Home} />\n            <Route path=\"/post/:id\" exact component={Post} />\n            <Route path=\"/createpost\" exact component={CreatePost} />\n        </div>\n            \n\n    );\n}\n\nexport default App;\n","import React from \"react\";\nimport ReactDOM from \"react-dom\";\nimport App from \"./App\";\nimport {BrowserRouter} from 'react-router-dom'\n\n\nReactDOM.render(<BrowserRouter>\n    <App />\n  </BrowserRouter>, document.getElementById(\"root\"));\n"],"sourceRoot":""}